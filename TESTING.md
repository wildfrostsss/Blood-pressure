# Инструкция по тестированию PWA "Дневник давления"

## Общие требования к тестированию

- Тестирование проводится в современных браузерах (Chrome, Firefox, Safari, Edge)
- Проверяется как десктопная, так и мобильная версии приложения
- Убедитесь, что JavaScript включен в браузере
- Для тестирования PWA-функционала используйте браузер на базе Chromium (Chrome, Edge)

## 1. Тестирование базового функционала

### 1.1. Добавление измерений

1. Откройте приложение в браузере
2. Заполните форму "Добавить измерение":
   - Введите корректные значения для систолического давления (60-250)
   - Введите корректные значения для диастолического давления (40-150)
   - Введите корректные значения для пульса (40-200)
   - Убедитесь, что поле даты и времени заполнено текущими значениями
3. Нажмите кнопку "Сохранить"
4. **Ожидаемый результат:** Измерение добавлено в список "Измерения за сегодня", форма очищена

### 1.2. Просмотр измерений

1. Добавьте несколько измерений за текущий день
2. **Ожидаемый результат:** Все измерения отображаются в разделе "Измерения за сегодня" в обратном хронологическом порядке
3. Проверьте формат отображения даты и времени

### 1.3. Валидация формы

1. Попробуйте отправить форму с пустыми полями
2. **Ожидаемый результат:** Появляется предупреждение о необходимости заполнить все поля
3. Попробуйте ввести значения вне допустимого диапазона
4. **Ожидаемый результат:** Браузер должен показать встроенную валидацию HTML5

## 2. Тестирование календаря

### 2.1. Навигация по календарю

1. Нажмите на кнопки "<" и ">" для переключения месяцев
2. **Ожидаемый результат:** Календарь переключается на предыдущий/следующий месяц
3. Убедитесь, что текущий день выделен особым стилем

### 2.2. Выбор даты

1. Нажмите на любой день в календаре
2. **Ожидаемый результат:** 
   - День выделяется как выбранный
   - Заголовок раздела измерений изменяется на "Измерения за [выбранная дата]"
   - Отображаются измерения за выбранную дату (если они есть)

### 2.3. Индикация дней с измерениями

1. Добавьте измерения за разные даты
2. **Ожидаемый результат:** Дни, в которые были добавлены измерения, отмечены специальным индикатором (точка)

## 3. Тестирование графиков

### 3.1. Отображение графика

1. Добавьте несколько измерений за разные дни
2. Перейдите в раздел "Графики"
3. **Ожидаемый результат:** Отображается график с тремя линиями (систолическое давление, диастолическое давление, пульс)

### 3.2. Переключение диапазонов

1. Нажмите кнопку "Неделя"
2. **Ожидаемый результат:** График обновляется для отображения данных за последнюю неделю
3. Нажмите кнопку "Месяц"
4. **Ожидаемый результат:** График обновляется для отображения данных за последний месяц

### 3.3. Произвольный диапазон дат

1. Укажите начальную и конечную дату в полях "С:" и "По:"
2. **Ожидаемый результат:** График обновляется для отображения данных за указанный период
3. Попробуйте указать дату в обратном порядке
4. **Ожидаемый результат:** График все равно отображается (данные фильтруются корректно)

## 4. Тестирование генерации PDF

### 4.1. Генерация отчета

1. Убедитесь, что у вас есть измерения за выбранный период
2. Нажмите кнопку "Сгенерировать PDF"
3. **Ожидаемый результат:** 
   - Кнопка меняет текст на "Генерация..." и становится неактивной
   - Через некоторое время начинается скачивание PDF-файла
   - Имя файла соответствует формату "Отчет_давление_[дата_начала]_[дата_конца].pdf"

### 4.2. Проверка содержимого PDF

1. Откройте скачанный PDF-файл
2. **Ожидаемый результат:** 
   - Отчет содержит заголовок "Отчет об артериальном давлении"
   - Указан период отчета
   - Присутствует таблица с измерениями
   - Включен график динамики
   - Отображается статистика (средние значения и количество измерений)
   - Указана дата генерации отчета

### 4.3. Обработка ошибок

1. Выберите период, за который нет измерений
2. Нажмите кнопку "Сгенерировать PDF"
3. **Ожидаемый результат:** Появляется сообщение "За выбранный период нет измерений"

## 5. Тестирование переключения тем

### 5.1. Переключение между темами

1. Нажмите на кнопку с иконкой луны/солнца в заголовке
2. **Ожидаемый результат:** 
   - Иконка меняется (луна ↔ солнце)
   - Цветовая схема приложения изменяется на противоположную
   - Выбор темы сохраняется после перезагрузки страницы

### 5.2. Сохранение темы

1. Переключите тему
2. Перезагрузите страницу (F5)
3. **Ожидаемый результат:** Выбранная тема применяется автоматически

### 5.3. Системные настройки

1. Очистите localStorage (в инструментах разработчика)
2. Перезагрузите страницу
3. **Ожидаемый результат:** Применяется тема в соответствии с системными настройками ОС

## 6. Тестирование PWA-функционала

### 6.1. Установка приложения

1. Откройте приложение в браузере на базе Chromium (Chrome, Edge)
2. **Ожидаемый результат:** В адресной строке появляется иконка для установки приложения
3. Нажмите на иконку установки
4. **Ожидаемый результат:** Появляется диалоговое окно с предложением установить приложение
5. Установите приложение
6. **Ожидаемый результат:** Приложение устанавливается и доступно из меню приложений ОС

### 6.2. Офлайн-режим

1. Установите приложение
2. Отключитесь от интернета
3. Запустите приложение
4. **Ожидаемый результат:** Приложение загружается и работает в офлайн-режиме
5. Попробуйте добавить новое измерение
6. **Ожидаемый результат:** Измерение сохраняется локально

### 6.3. Обновление приложения

1. Запустите установленное приложение
2. **Ожидаемый результат:** Если доступна новая версия, появляется уведомление с предложением обновиться
3. Нажмите кнопку "Обновить"
4. **Ожидаемый результат:** Приложение перезагружается с новой версией

## 7. Тестирование адаптивности

### 7.1. Мобильные устройства

1. Откройте приложение на мобильном устройстве или используйте инструменты разработчика для эмуляции мобильного устройства
2. **Ожидаемый результат:** 
   - Интерфейс корректно адаптируется под размер экрана
   - Все элементы управления доступны и функциональны
   - Текст читабелен

### 7.2. Планшеты

1. Проверьте отображение на планшетах (размеры экрана 768px-1024px)
2. **Ожидаемый результат:** Интерфейс оптимально использует доступное пространство

## 8. Тестирование производительности

### 8.1. Загрузка приложения

1. Откройте приложение впервые
2. **Ожидаемый результат:** Приложение загружается быстро (менее 3 секунд на стандартном соединении)

### 8.2. Работа с большим объемом данных

1. Добавьте более 100 измерений за разные периоды
2. Проверьте работу всех функций
3. **Ожидаемый результат:** Приложение остается отзывчивым, нет заметных задержек

## 9. Тестирование совместимости

### 9.1. Различные браузеры

1. Протестируйте приложение в разных браузерах:
   - Chrome/Chromium (последняя версия)
   - Firefox (последняя версия)
   - Safari (последняя версия)
   - Edge (последняя версия)
2. **Ожидаемый результат:** Основной функционал работает во всех браузерах

### 9.2. Различные версии ОС

1. Проверьте работу на разных операционных системах:
   - Windows 10/11
   - macOS
   - Android
   - iOS
2. **Ожидаемый результат:** Приложение корректно работает на всех платформах

## 10. Тестирование безопасности

### 10.1. XSS-защита

1. Попробуйте ввести в поля формы JavaScript-код
2. **Ожидаемый результат:** Код не выполняется, отображается как обычный текст

### 10.2. Защита данных

1. Проверьте, что данные хранятся только в localStorage
2. **Ожидаемый результат:** Данные не передаются на сторонние серверы

## Заключение

После завершения тестирования убедитесь, что все основные функции работают корректно. Обнаруженные ошибки должны быть задокументированы с указанием шагов для их воспроизведения.