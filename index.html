<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–Ω–µ–≤–Ω–∏–∫ –¥–∞–≤–ª–µ–Ω–∏—è</title>
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./style.css">
    <link rel="manifest" href="./manifest.json">
    <!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è PWA -->
    <meta name="theme-color" content="#ffffff">
    <meta name="description" content="–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –¥–Ω–µ–≤–Ω–∏–∫–∞ –∞—Ä—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ –¥–∞–≤–ª–µ–Ω–∏—è">
    <!-- –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ PDF -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <header>
        <h1>–î–Ω–µ–≤–Ω–∏–∫ –¥–∞–≤–ª–µ–Ω–∏—è</h1>
        <div class="theme-toggle">
            <button id="theme-toggle-btn" class="btn-theme" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                <span class="theme-icon">üåô</span>
            </button>
        </div>
    </header>
    <main>
        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –ø–ª–∏—Ç–∫–∞–º–∏ -->
        <section id="home-screen" class="home-screen">
            <div class="tiles-container">
                <div class="tile" data-section="measurement-section">
                    <div class="tile-icon">‚ûï</div>
                    <div class="tile-title">–î–æ–±–∞–≤–∏—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∏–µ</div>
                </div>
                <div class="tile" data-section="calendar-section">
                    <div class="tile-icon">üìÖ</div>
                    <div class="tile-title">–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∏–∑–º–µ—Ä–µ–Ω–∏–π</div>
                </div>
                <div class="tile" data-section="charts-section">
                    <div class="tile-icon">üìä</div>
                    <div class="tile-title">–ì—Ä–∞—Ñ–∏–∫–∏</div>
                </div>
                <div class="tile" id="pdf-report-tile" data-section="charts-section">
                    <div class="tile-icon">üìÑ</div>
                    <div class="tile-title">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç</div>
                </div>
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–∑–º–µ—Ä–µ–Ω–∏—è (—Å–∫—Ä—ã—Ç–∞) -->
        <section id="measurement-section" class="measurement-form hidden">
            <button class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>–î–æ–±–∞–≤–∏—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∏–µ</h2>
            <form id="pressure-form">
                <div class="form-group">
                    <label for="systolic">–°–∏—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ:</label>
                    <input type="number" id="systolic" name="systolic" min="60" max="250" required>
                </div>
                <div class="form-group">
                    <label for="diastolic">–î–∏–∞—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ:</label>
                    <input type="number" id="diastolic" name="diastolic" min="40" max="150" required>
                </div>
                <div class="form-group">
                    <label for="pulse">–ü—É–ª—å—Å:</label>
                    <input type="number" id="pulse" name="pulse" min="40" max="200" required>
                </div>
                <div class="form-group">
                    <label for="datetime">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è:</label>
                    <input type="datetime-local" id="datetime" name="datetime" required>
                </div>
                <button type="submit" id="save-button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è -->
        <section id="calendar-section" class="calendar-container hidden">
            <button class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∏–∑–º–µ—Ä–µ–Ω–∏–π</h2>
            <div class="calendar-header">
                <button id="prev-month" class="btn-nav"><</button>
                <h3 id="current-month"></h3>
                <button id="next-month" class="btn-nav">></button>
            </div>
            <div class="calendar-grid">
                <div class="calendar-weekdays">
                    <div class="weekday">–ü–Ω</div>
                    <div class="weekday">–í—Ç</div>
                    <div class="weekday">–°—Ä</div>
                    <div class="weekday">–ß—Ç</div>
                    <div class="weekday">–ü—Ç</div>
                    <div class="weekday">–°–±</div>
                    <div class="weekday">–í—Å</div>
                </div>
                <div id="calendar-days" class="calendar-days"></div>
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è —Å–ø–∏—Å–∫–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π -->
        <section id="measurements-list" class="measurements-list hidden">
            <button class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>–ò–∑–º–µ—Ä–µ–Ω–∏—è –∑–∞ —Å–µ–≥–æ–¥–Ω—è</h2>
            <div id="measurements-container">
                <p class="no-measurements">–ù–µ—Ç –∏–∑–º–µ—Ä–µ–Ω–∏–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è</p>
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ -->
        <section id="charts-section" class="charts-container hidden">
            <button class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>–ì—Ä–∞—Ñ–∏–∫–∏</h2>
            <div class="chart-controls">
                <div class="preset-buttons">
                    <button id="week-btn" class="btn btn-range">–ù–µ–¥–µ–ª—è</button>
                    <button id="month-btn" class="btn btn-range">–ú–µ—Å—è—Ü</button>
                </div>
                <div class="date-range">
                    <label for="start-date">–°:</label>
                    <input type="date" id="start-date" class="date-input">
                    <label for="end-date">–ü–æ:</label>
                    <input type="date" id="end-date" class="date-input">
                </div>
            </div>
            <div class="chart-wrapper">
                <canvas id="pressure-chart"></canvas>
            </div>
            <div class="pdf-controls">
                <button id="generate-pdf-btn" class="btn btn-pdf">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å PDF</button>
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 –î–Ω–µ–≤–Ω–∏–∫ –¥–∞–≤–ª–µ–Ω–∏—è</p>
    </footer>
    
    <!-- –°–∫—Ä—ã—Ç—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è PDF-–æ—Ç—á–µ—Ç–∞ -->
    <div id="pdf-report" style="display: none;">
        <h1>–û—Ç—á–µ—Ç –æ–± –∞—Ä—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–º –¥–∞–≤–ª–µ–Ω–∏–∏</h1>
        <div class="report-period"></div>
        
        <h2>–¢–∞–±–ª–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π</h2>
        <table>
            <thead>
                <tr>
                    <th>–î–∞—Ç–∞</th>
                    <th>–í—Ä–µ–º—è</th>
                    <th>–°–∏—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ</th>
                    <th>–î–∏–∞—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ</th>
                    <th>–ü—É–ª—å—Å</th>
                </tr>
            </thead>
            <tbody class="measurements-table-body">
                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </tbody>
        </table>
        
        <h2>–ì—Ä–∞—Ñ–∏–∫</h2>
        <div class="chart-container">
            <canvas id="pdf-chart"></canvas>
        </div>
        
        <div class="statistics">
            <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <div class="stat-row">
                <span class="stat-label">–°—Ä–µ–¥–Ω–µ–µ —Å–∏—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ:</span>
                <span class="avg-systolic"></span>
            </div>
            <div class="stat-row">
                <span class="stat-label">–°—Ä–µ–¥–Ω–µ–µ –¥–∏–∞—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ:</span>
                <span class="avg-diastolic"></span>
            </div>
            <div class="stat-row">
                <span class="stat-label">–°—Ä–µ–¥–Ω–∏–π –ø—É–ª—å—Å:</span>
                <span class="avg-pulse"></span>
            </div>
            <div class="stat-row">
                <span class="stat-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ—Ä–µ–Ω–∏–π:</span>
                <span class="count"></span>
            </div>
        </div>
        
        <div class="footer">
            <p>–û—Ç—á–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω: <span class="generation-date"></span></p>
        </div>
    </div>
    
    <script src="script.js" defer></script>
</body>
<!-- Force redeploy -->
</html>